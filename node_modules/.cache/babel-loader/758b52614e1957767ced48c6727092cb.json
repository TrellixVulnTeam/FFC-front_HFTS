{"ast":null,"code":"import _slicedToArray from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import AuthRoutes from\"./pages/auth/AuthRoutes\";import{createContext,useEffect,useState}from\"react\";import AppRoutes from\"./pages/app/AppRoutes\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext({isAuthenticated:false,setIsAuthenticated:function setIsAuthenticated(){return false;},isUserDoctor:false,setIsUserDoctor:function setIsUserDoctor(){}});function App(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isAuthenticated=_useState2[0],setIsAuthenticated=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isUserDoctor=_useState4[0],setIsUserDoctor=_useState4[1];useEffect(function(){var token=localStorage.getItem(\"token\");if(token){var _JSON$parse=JSON.parse(localStorage.getItem(\"user\")),type=_JSON$parse.type;setIsUserDoctor(type===\"doctor\");return setIsAuthenticated(true);}navigate(\"/auth/login\");},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isAuthenticated:isAuthenticated,setIsAuthenticated:setIsAuthenticated,setIsUserDoctor:setIsUserDoctor,isUserDoctor:isUserDoctor},children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column flex-root\",children:[!isAuthenticated&&/*#__PURE__*/_jsx(AuthRoutes,{}),isAuthenticated&&/*#__PURE__*/_jsx(AppRoutes,{})]})})});}export default App;","map":{"version":3,"names":["AuthRoutes","createContext","useEffect","useState","AppRoutes","useNavigate","AuthContext","isAuthenticated","setIsAuthenticated","isUserDoctor","setIsUserDoctor","App","navigate","token","localStorage","getItem","JSON","parse","type"],"sources":["C:/Users/maaya/ffc_finalpro/User_Interface/frontend/src/App.js"],"sourcesContent":["import AuthRoutes from \"./pages/auth/AuthRoutes\";\r\nimport { createContext, useEffect, useState } from \"react\";\r\nimport AppRoutes from \"./pages/app/AppRoutes\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const AuthContext = createContext({\r\n  isAuthenticated: false,\r\n  setIsAuthenticated: () => false,\r\n  isUserDoctor: false,\r\n  setIsUserDoctor: () => {},\r\n});\r\n\r\nfunction App() {\r\n  const navigate = useNavigate();\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isUserDoctor, setIsUserDoctor] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      const { type } = JSON.parse(localStorage.getItem(\"user\"));\r\n      setIsUserDoctor(type === \"doctor\");\r\n      return setIsAuthenticated(true);\r\n    }\r\n    navigate(\"/auth/login\");\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <AuthContext.Provider\r\n        value={{\r\n          isAuthenticated,\r\n          setIsAuthenticated,\r\n          setIsUserDoctor,\r\n          isUserDoctor,\r\n        }}\r\n      >\r\n        <div className=\"d-flex flex-column flex-root\">\r\n          {!isAuthenticated && <AuthRoutes />}\r\n          {isAuthenticated && <AppRoutes />}\r\n        </div>\r\n      </AuthContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"yIAAA,MAAOA,CAAAA,UAAP,KAAuB,yBAAvB,CACA,OAASC,aAAT,CAAwBC,SAAxB,CAAmCC,QAAnC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,MAAO,IAAMC,CAAAA,WAAW,cAAGL,aAAa,CAAC,CACvCM,eAAe,CAAE,KADsB,CAEvCC,kBAAkB,CAAE,oCAAM,MAAN,EAFmB,CAGvCC,YAAY,CAAE,KAHyB,CAIvCC,eAAe,CAAE,0BAAM,CAAE,CAJc,CAAD,CAAjC,CAOP,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,cAA8CF,QAAQ,CAAC,KAAD,CAAtD,wCAAOI,eAAP,eAAwBC,kBAAxB,eACA,eAAwCL,QAAQ,CAAC,KAAD,CAAhD,yCAAOM,YAAP,eAAqBC,eAArB,eAEAR,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAIF,KAAJ,CAAW,CACT,gBAAiBG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAjB,CAAQG,IAAR,aAAQA,IAAR,CACAR,eAAe,CAACQ,IAAI,GAAK,QAAV,CAAf,CACA,MAAOV,CAAAA,kBAAkB,CAAC,IAAD,CAAzB,CACD,CACDI,QAAQ,CAAC,aAAD,CAAR,CACD,CARQ,CAQN,EARM,CAAT,CAUA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,WAAD,CAAa,QAAb,EACE,KAAK,CAAE,CACLL,eAAe,CAAfA,eADK,CAELC,kBAAkB,CAAlBA,kBAFK,CAGLE,eAAe,CAAfA,eAHK,CAILD,YAAY,CAAZA,YAJK,CADT,uBAQE,aAAK,SAAS,CAAC,8BAAf,WACG,CAACF,eAAD,eAAoB,KAAC,UAAD,IADvB,CAEGA,eAAe,eAAI,KAAC,SAAD,IAFtB,GARF,EADF,EADF,CAiBD,CAED,cAAeI,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}