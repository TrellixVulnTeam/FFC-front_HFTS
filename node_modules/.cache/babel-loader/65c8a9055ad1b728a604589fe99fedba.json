{"ast":null,"code":"import _objectSpread from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectWithoutProperties from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _slicedToArray from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _excluded=[\"handleSubmit\"];import _regeneratorRuntime from\"C:\\\\Users\\\\maaya\\\\ffc_finalpro\\\\User_Interface\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{FormProvider,useForm}from\"react-hook-form\";import Input from\"../../core/form/input/Input\";import Select from\"../../core/form/select/Select\";import classNames from\"classnames\";import{createPatient}from\"../../../api/patients-api\";import{useMutation,useQueryClient}from\"react-query\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PatientForm=function PatientForm(_ref){var setIsPatientModalOpen=_ref.setIsPatientModalOpen;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var queryClient=useQueryClient();var _useForm=useForm(),handleSubmit=_useForm.handleSubmit,methods=_objectWithoutProperties(_useForm,_excluded);var _useMutation=useMutation(createPatient,{onSuccess:function onSuccess(){queryClient.invalidateQueries([\"patients\"]);}}),mutate=_useMutation.mutate;var onCreate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(registerForm){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return mutate(registerForm);case 4:setIsPatientModalOpen(false);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);case 9:_context.prev=9;setIsLoading(false);return _context.finish(9);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,7,9,12]]);}));return function onCreate(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onCreate),children:/*#__PURE__*/_jsxs(FormProvider,_objectSpread(_objectSpread({},methods),{},{children:[/*#__PURE__*/_jsx(Input,{name:\"fullName\",label:\"Full Name\",type:\"text\",rules:{required:\"Full Name is required\"}}),/*#__PURE__*/_jsx(Input,{name:\"email\",label:\"Email\",type:\"email\",rules:{required:\"Email is required\"}}),/*#__PURE__*/_jsx(Select,{name:\"gender\",label:\"Gender\",rules:{required:\"Gender is required\"},options:[{value:\"female\",label:\"Female\"},{value:\"male\",label:\"Male\"}]}),/*#__PURE__*/_jsx(Input,{name:\"id\",label:\"ID\",type:\"text\",rules:{required:\"ID is required\"}}),/*#__PURE__*/_jsx(Input,{name:\"dateOfBirth\",label:\"Age\",type:\"text\",rules:{required:\"Allergies is required\"}}),/*#__PURE__*/_jsx(Input,{name:\"phoneNumber\",label:\"Phone\",type:\"text\",rules:{required:\"Phone is required\"}}),/*#__PURE__*/_jsx(Input,{name:\"height\",label:\"Height\",type:\"text\",rules:{required:\"Height is required\"}}),/*#__PURE__*/_jsx(Input,{name:\"weight\",label:\"Weight\",type:\"text\",rules:{required:\"Weight is required\"}}),/*#__PURE__*/_jsx(Input,{name:\"allergies\",label:\"Allergies\",type:\"text\",rules:{required:\"Allergies is required\"}}),/*#__PURE__*/_jsx(Input,{name:\"isADHD\",label:\"is ADHD?\",type:\"text\",rules:{required:\"isADHD is required\"}}),/*#__PURE__*/_jsx(Input,{name:\"additionalInformation\",label:\"Additional Information\",type:\"text\",rules:{required:\"Additional Information is required\"}}),/*#__PURE__*/_jsx(Input,{name:\"summary\",label:\"Summary\",type:\"text\",rules:{required:\"Summary is required\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"separator my-5\"}),/*#__PURE__*/_jsxs(\"button\",{className:classNames({\"btn btn-primary w-100\":true}),type:\"submit\",children:[isLoading?\"Please Wait...\":\"Create\",/*#__PURE__*/_jsx(\"span\",{className:\"indicator-progress\",children:isLoading&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm align-middle ms-2\"})})]})]}))});};export default PatientForm;","map":{"version":3,"names":["React","useState","FormProvider","useForm","Input","Select","classNames","createPatient","useMutation","useQueryClient","PatientForm","setIsPatientModalOpen","isLoading","setIsLoading","queryClient","handleSubmit","methods","onSuccess","invalidateQueries","mutate","onCreate","registerForm","required","value","label"],"sources":["C:/Users/maaya/ffc_finalpro/User_Interface/frontend/src/components/app/Patients/PatientForm.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport Input from \"../../core/form/input/Input\";\r\nimport Select from \"../../core/form/select/Select\";\r\nimport classNames from \"classnames\";\r\nimport { createPatient } from \"../../../api/patients-api\";\r\nimport { useMutation, useQueryClient } from \"react-query\";\r\n\r\nconst PatientForm = ({ setIsPatientModalOpen }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const queryClient = useQueryClient();\r\n  const { handleSubmit, ...methods } = useForm();\r\n  const { mutate } = useMutation(createPatient, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries([\"patients\"]);\r\n    },\r\n  });\r\n  const onCreate = async (registerForm) => {\r\n    setIsLoading(true);\r\n    try {\r\n      await mutate(registerForm);\r\n      setIsPatientModalOpen(false);\r\n    } catch (error) {\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onCreate)}>\r\n      <FormProvider {...methods}>\r\n        <Input\r\n          name=\"fullName\"\r\n          label=\"Full Name\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"Full Name is required\",\r\n          }}\r\n        />\r\n        <Input\r\n          name=\"email\"\r\n          label=\"Email\"\r\n          type=\"email\"\r\n          rules={{\r\n            required: \"Email is required\",\r\n          }}\r\n        />\r\n        <Select\r\n          name=\"gender\"\r\n          label=\"Gender\"\r\n          rules={{ required: \"Gender is required\" }}\r\n          options={[\r\n            { value: \"female\", label: \"Female\" },\r\n            { value: \"male\", label: \"Male\" },\r\n          ]}\r\n        />\r\n        <Input\r\n          name=\"id\"\r\n          label=\"ID\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"ID is required\",\r\n          }}\r\n        />\r\n        <Input\r\n          name=\"dateOfBirth\"\r\n          label=\"Age\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"Allergies is required\",\r\n          }}\r\n        />\r\n        <Input\r\n          name=\"phoneNumber\"\r\n          label=\"Phone\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"Phone is required\",\r\n          }}\r\n        />\r\n        <Input\r\n          name=\"height\"\r\n          label=\"Height\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"Height is required\",\r\n          }}\r\n        />\r\n        <Input\r\n          name=\"weight\"\r\n          label=\"Weight\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"Weight is required\",\r\n          }}\r\n        />\r\n        <Input\r\n          name=\"allergies\"\r\n          label=\"Allergies\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"Allergies is required\",\r\n          }}\r\n        />\r\n          <Input\r\n          name=\"isADHD\"\r\n          label=\"is ADHD?\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"isADHD is required\",\r\n          }}\r\n        />\r\n        <Input\r\n          name=\"additionalInformation\"\r\n          label=\"Additional Information\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"Additional Information is required\",\r\n          }}\r\n        />\r\n        <Input\r\n          name=\"summary\"\r\n          label=\"Summary\"\r\n          type=\"text\"\r\n          rules={{\r\n            required: \"Summary is required\",\r\n          }}\r\n        />\r\n\r\n        <div className=\"separator my-5\" />\r\n        <button\r\n          className={classNames({\r\n            \"btn btn-primary w-100\": true,\r\n          })}\r\n          type=\"submit\"\r\n        >\r\n          {isLoading ? \"Please Wait...\" : \"Create\"}\r\n          <span className=\"indicator-progress\">\r\n            {isLoading && (\r\n              <span className=\"spinner-border spinner-border-sm align-middle ms-2\" />\r\n            )}\r\n          </span>\r\n        </button>\r\n      </FormProvider>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PatientForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}