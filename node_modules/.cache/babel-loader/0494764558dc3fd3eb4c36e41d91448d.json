{"ast":null,"code":"import _objectSpread from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectWithoutProperties from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _slicedToArray from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _excluded=[\"handleSubmit\"];import _regeneratorRuntime from\"C:\\\\Users\\\\maaya\\\\ffc_finalpro\\\\User_Interface\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{FormProvider,useForm}from\"react-hook-form\";import classNames from\"classnames\";import{completeTreatment}from\"../../../api/treatment-api\";import TextArea from\"../../core/form/text-area/TextArea\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CompleteTreatment=function CompleteTreatment(_ref){var onClose=_ref.onClose,treatment=_ref.treatment;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useForm=useForm(),handleSubmit=_useForm.handleSubmit,methods=_objectWithoutProperties(_useForm,_excluded);var onComplete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(treatmentForm){var treatmentSummary;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);treatmentSummary=treatmentForm.treatmentSummary;_context.prev=2;_context.next=5;return completeTreatment(treatmentSummary,treatment);case 5:onClose(false);_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);case 10:_context.prev=10;setIsLoading(false);return _context.finish(10);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,8,10,13]]);}));return function onComplete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onComplete),children:/*#__PURE__*/_jsxs(FormProvider,_objectSpread(_objectSpread({},methods),{},{children:[/*#__PURE__*/_jsx(TextArea,{name:\"treatmentSummary\",label:\"Summary\",rules:{required:\"Summary is required\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"separator my-5\"}),/*#__PURE__*/_jsxs(\"button\",{className:classNames({\"btn btn-primary w-100\":true}),type:\"submit\",children:[isLoading?\"Please Wait...\":\"Create\",/*#__PURE__*/_jsx(\"span\",{className:\"indicator-progress\",children:isLoading&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm align-middle ms-2\"})})]})]}))});};export default CompleteTreatment;","map":{"version":3,"names":["React","useState","FormProvider","useForm","classNames","completeTreatment","TextArea","CompleteTreatment","onClose","treatment","isLoading","setIsLoading","handleSubmit","methods","onComplete","treatmentForm","treatmentSummary","required"],"sources":["C:/Users/maaya/ffc_finalpro/User_Interface/frontend/src/components/app/Patients/CompleteTreatmentForm.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport classNames from \"classnames\";\r\nimport { completeTreatment } from \"../../../api/treatment-api\";\r\nimport TextArea from \"../../core/form/text-area/TextArea\";\r\n\r\nconst CompleteTreatment = ({ onClose, treatment }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { handleSubmit, ...methods } = useForm();\r\n\r\n  const onComplete = async (treatmentForm) => {\r\n    setIsLoading(true);\r\n    const { treatmentSummary } = treatmentForm;\r\n    try {\r\n      await completeTreatment(treatmentSummary, treatment);\r\n      onClose(false);\r\n    } catch (error) {\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onComplete)}>\r\n      <FormProvider {...methods}>\r\n        <TextArea\r\n          name=\"treatmentSummary\"\r\n          label=\"Summary\"\r\n          rules={{\r\n            required: \"Summary is required\",\r\n          }}\r\n        />\r\n\r\n        <div className=\"separator my-5\" />\r\n        <button\r\n          className={classNames({\r\n            \"btn btn-primary w-100\": true,\r\n          })}\r\n          type=\"submit\"\r\n        >\r\n          {isLoading ? \"Please Wait...\" : \"Create\"}\r\n          <span className=\"indicator-progress\">\r\n            {isLoading && (\r\n              <span className=\"spinner-border spinner-border-sm align-middle ms-2\" />\r\n            )}\r\n          </span>\r\n        </button>\r\n      </FormProvider>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CompleteTreatment;\r\n"],"mappings":"4uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,YAAT,CAAuBC,OAAvB,KAAsC,iBAAtC,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,iBAAT,KAAkC,4BAAlC,CACA,MAAOC,CAAAA,QAAP,KAAqB,oCAArB,C,wFAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAA4B,IAAzBC,CAAAA,OAAyB,MAAzBA,OAAyB,CAAhBC,SAAgB,MAAhBA,SAAgB,CACpD,cAAkCR,QAAQ,CAAC,KAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eACA,aAAqCR,OAAO,EAA5C,CAAQS,YAAR,UAAQA,YAAR,CAAyBC,OAAzB,8CAEA,GAAMC,CAAAA,UAAU,2FAAG,iBAAOC,aAAP,uIACjBJ,YAAY,CAAC,IAAD,CAAZ,CACQK,gBAFS,CAEYD,aAFZ,CAETC,gBAFS,uCAITX,CAAAA,iBAAiB,CAACW,gBAAD,CAAmBP,SAAnB,CAJR,QAKfD,OAAO,CAAC,KAAD,CAAP,CALe,wGAQfG,YAAY,CAAC,KAAD,CAAZ,CARe,qGAAH,kBAAVG,CAAAA,UAAU,6CAAhB,CAYA,mBACE,aAAM,QAAQ,CAAEF,YAAY,CAACE,UAAD,CAA5B,uBACE,MAAC,YAAD,gCAAkBD,OAAlB,6BACE,KAAC,QAAD,EACE,IAAI,CAAC,kBADP,CAEE,KAAK,CAAC,SAFR,CAGE,KAAK,CAAE,CACLI,QAAQ,CAAE,qBADL,CAHT,EADF,cASE,YAAK,SAAS,CAAC,gBAAf,EATF,cAUE,gBACE,SAAS,CAAEb,UAAU,CAAC,CACpB,wBAAyB,IADL,CAAD,CADvB,CAIE,IAAI,CAAC,QAJP,WAMGM,SAAS,CAAG,gBAAH,CAAsB,QANlC,cAOE,aAAM,SAAS,CAAC,oBAAhB,UACGA,SAAS,eACR,aAAM,SAAS,CAAC,oDAAhB,EAFJ,EAPF,GAVF,IADF,EADF,CA4BD,CA5CD,CA8CA,cAAeH,CAAAA,iBAAf"},"metadata":{},"sourceType":"module"}