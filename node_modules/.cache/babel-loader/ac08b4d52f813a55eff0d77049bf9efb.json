{"ast":null,"code":"import _toConsumableArray from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/maaya/ffc_finalpro/User_Interface/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useEffect,useState}from\"react\";import{Routes,Route}from\"react-router-dom\";import Header from\"../../components/app/AppLayout/Header/Header\";import Dashboard from\"./Dashboard\";import Patients from\"./Patients\";import Treatments from\"./Treatments\";import treatmentsspecs from\"./TreatmentsSpec\";import History from\"./History\";import Modal from\"../../components/core/modal/Modal\";import PatientForm from\"../../components/app/Patients/PatientForm\";import TestForm from\"../../components/app/Tests/TestForm\";import useAuth from\"../../hooks/useAuth\";import PatientDashboard from\"../../components/app/Dashboard/PatientDashboard/PatientDashboard\";import DoctorDashboard from\"../../components/app/Dashboard/DoctorDashboard/DoctorDashboard\";import Results from\"../../components/app/Results/Results\";import PatientResetPasswordModal from\"../../components/auth/PatientResetPassword/PatientResetPasswordModal\";import TreatmentsSpec from\"./TreatmentsSpec\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var bodyClass=\"header-fixed header-tablet-and-mobile-fixed toolbar-fixed\";export var ModalContext=/*#__PURE__*/createContext({isPatientModalOpen:false,setIsPatientModalOpen:function setIsPatientModalOpen(){},isTestModalOpen:false,setIsTestModalOpen:function setIsTestModalOpen(){}});var AppRoutes=function AppRoutes(){var _useAuth=useAuth(),isUserDoctor=_useAuth.isUserDoctor;var _JSON$parse=JSON.parse(localStorage.getItem(\"user\")),isPasswordSet=_JSON$parse.isPasswordSet;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isPatientModalOpen=_useState2[0],setIsPatientModalOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isTestModalOpen=_useState4[0],setIsTestModalOpen=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),testToEdit=_useState6[0],setTestToEdit=_useState6[1];var onEditTest=function onEditTest(test){setIsTestModalOpen(true);setTestToEdit(test);};useEffect(function(){var _document$body$classL;var bodyClasses=bodyClass.split(\" \");(_document$body$classL=document.body.classList).add.apply(_document$body$classL,_toConsumableArray(bodyClasses));return function(){var _document$body$classL2;(_document$body$classL2=document.body.classList).remove.apply(_document$body$classL2,_toConsumableArray(bodyClasses));};},[]);useEffect(function(){if(!isTestModalOpen){setTestToEdit(null);}},[isTestModalOpen]);return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper d-flex flex-column flex-row-fluid\",children:[/*#__PURE__*/_jsx(Header,{setIsPatientOpen:setIsPatientModalOpen,setIsTestOpen:setIsTestModalOpen}),/*#__PURE__*/_jsx(\"div\",{className:\"content d-flex flex-column flex-column-fluid\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ModalContext.Provider,{value:{isTestModalOpen:isTestModalOpen,isPatientModalOpen:isPatientModalOpen,setIsPatientModalOpen:setIsPatientModalOpen,setIsTestModalOpen:setIsTestModalOpen,onEditTest:onEditTest},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/app/dashboard\",element:isUserDoctor?/*#__PURE__*/_jsx(DoctorDashboard,{}):/*#__PURE__*/_jsx(PatientDashboard,{})}),isUserDoctor&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/app/patients\",element:/*#__PURE__*/_jsx(Patients,{})}),/*#__PURE__*/_jsx(Route,{path:\"/app/treatments\",element:/*#__PURE__*/_jsx(Treatments,{})}),/*#__PURE__*/_jsx(Route,{path:\"/app/treatmentsspecs\",element:/*#__PURE__*/_jsx(TreatmentsSpec,{})}),/*#__PURE__*/_jsx(Route,{path:\"/app/history\",element:/*#__PURE__*/_jsx(History,{})}),/*#__PURE__*/_jsx(Route,{path:\"/app/results\",element:/*#__PURE__*/_jsx(Results,{})})]})]})})})}),isUserDoctor&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Modal,{isOpen:isPatientModalOpen,onClose:function onClose(){return setIsPatientModalOpen(false);},title:\"Create Patient\",children:/*#__PURE__*/_jsx(PatientForm,{setIsPatientModalOpen:setIsPatientModalOpen})}),/*#__PURE__*/_jsx(Modal,{isOpen:isTestModalOpen,onClose:function onClose(){return setIsTestModalOpen(false);},title:\"Create Test\",children:/*#__PURE__*/_jsx(TestForm,{setIsTestModalOpen:setIsTestModalOpen,testToEdit:testToEdit})})]}),!isUserDoctor&&isPasswordSet&&/*#__PURE__*/_jsx(PatientResetPasswordModal,{})]});};export default AppRoutes;","map":{"version":3,"names":["React","createContext","useEffect","useState","Routes","Route","Header","Dashboard","Patients","Treatments","treatmentsspecs","History","Modal","PatientForm","TestForm","useAuth","PatientDashboard","DoctorDashboard","Results","PatientResetPasswordModal","TreatmentsSpec","bodyClass","ModalContext","isPatientModalOpen","setIsPatientModalOpen","isTestModalOpen","setIsTestModalOpen","AppRoutes","isUserDoctor","JSON","parse","localStorage","getItem","isPasswordSet","testToEdit","setTestToEdit","onEditTest","test","bodyClasses","split","document","body","classList","add","remove"],"sources":["C:/Users/maaya/ffc_finalpro/User_Interface/frontend/src/pages/app/AppRoutes.js"],"sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport Header from \"../../components/app/AppLayout/Header/Header\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Patients from \"./Patients\";\r\nimport Treatments from \"./Treatments\";\r\nimport treatmentsspecs from \"./TreatmentsSpec\";\r\nimport History from \"./History\";\r\nimport Modal from \"../../components/core/modal/Modal\";\r\nimport PatientForm from \"../../components/app/Patients/PatientForm\";\r\nimport TestForm from \"../../components/app/Tests/TestForm\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport PatientDashboard from \"../../components/app/Dashboard/PatientDashboard/PatientDashboard\";\r\nimport DoctorDashboard from \"../../components/app/Dashboard/DoctorDashboard/DoctorDashboard\";\r\nimport Results from \"../../components/app/Results/Results\";\r\nimport PatientResetPasswordModal from \"../../components/auth/PatientResetPassword/PatientResetPasswordModal\";\r\nimport TreatmentsSpec from \"./TreatmentsSpec\";\r\n\r\nconst bodyClass = \"header-fixed header-tablet-and-mobile-fixed toolbar-fixed\";\r\n\r\nexport const ModalContext = createContext({\r\n  isPatientModalOpen: false,\r\n  setIsPatientModalOpen: () => {},\r\n  isTestModalOpen: false,\r\n  setIsTestModalOpen: () => {},\r\n});\r\n\r\nconst AppRoutes = () => {\r\n  const { isUserDoctor } = useAuth();\r\n  const { isPasswordSet } = JSON.parse(localStorage.getItem(\"user\"));\r\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\r\n  const [isTestModalOpen, setIsTestModalOpen] = useState(false);\r\n  const [testToEdit, setTestToEdit] = useState(null);\r\n\r\n  const onEditTest = (test) => {\r\n    setIsTestModalOpen(true);\r\n    setTestToEdit(test);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const bodyClasses = bodyClass.split(\" \");\r\n    document.body.classList.add(...bodyClasses);\r\n    return () => {\r\n      document.body.classList.remove(...bodyClasses);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isTestModalOpen) {\r\n      setTestToEdit(null);\r\n    }\r\n  }, [isTestModalOpen]);\r\n  return (\r\n    <div className=\"wrapper d-flex flex-column flex-row-fluid\">\r\n      <Header\r\n        setIsPatientOpen={setIsPatientModalOpen}\r\n        setIsTestOpen={setIsTestModalOpen}\r\n      />\r\n      <div className=\"content d-flex flex-column flex-column-fluid\">\r\n        <div>\r\n          <ModalContext.Provider\r\n            value={{\r\n              isTestModalOpen,\r\n              isPatientModalOpen,\r\n              setIsPatientModalOpen,\r\n              setIsTestModalOpen,\r\n              onEditTest,\r\n            }}\r\n          >\r\n            <Routes>\r\n              <Route\r\n                path=\"/app/dashboard\"\r\n                element={\r\n                  isUserDoctor ? <DoctorDashboard /> : <PatientDashboard />\r\n                }\r\n              />\r\n              {isUserDoctor && (\r\n                <>\r\n                  <Route path=\"/app/patients\" element={<Patients />} />\r\n                  <Route path=\"/app/treatments\" element={<Treatments />} />\r\n                  <Route path=\"/app/treatmentsspecs\" element={<TreatmentsSpec />} />\r\n                  <Route path=\"/app/history\" element={<History />} />\r\n                  <Route path=\"/app/results\" element={<Results />} />\r\n                </>\r\n              )}\r\n            </Routes>\r\n          </ModalContext.Provider>\r\n        </div>\r\n      </div>\r\n      {isUserDoctor && (\r\n        <>\r\n          <Modal\r\n            isOpen={isPatientModalOpen}\r\n            onClose={() => setIsPatientModalOpen(false)}\r\n            title=\"Create Patient\"\r\n          >\r\n            <PatientForm setIsPatientModalOpen={setIsPatientModalOpen} />\r\n          </Modal>\r\n          <Modal\r\n            isOpen={isTestModalOpen}\r\n            onClose={() => setIsTestModalOpen(false)}\r\n            title=\"Create Test\"\r\n          >\r\n            <TestForm\r\n              setIsTestModalOpen={setIsTestModalOpen}\r\n              testToEdit={testToEdit}\r\n            />\r\n          </Modal>\r\n        </>\r\n      )}\r\n      {!isUserDoctor && isPasswordSet && <PatientResetPasswordModal />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppRoutes;\r\n"],"mappings":"0RAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,SAA/B,CAA0CC,QAA1C,KAA0D,OAA1D,CACA,OAASC,MAAT,CAAiBC,KAAjB,KAA8B,kBAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,8CAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,eAAP,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,mCAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2CAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qCAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,kEAA7B,CACA,MAAOC,CAAAA,eAAP,KAA4B,gEAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,sCAApB,CACA,MAAOC,CAAAA,yBAAP,KAAsC,sEAAtC,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,C,6IAEA,GAAMC,CAAAA,SAAS,CAAG,2DAAlB,CAEA,MAAO,IAAMC,CAAAA,YAAY,cAAGrB,aAAa,CAAC,CACxCsB,kBAAkB,CAAE,KADoB,CAExCC,qBAAqB,CAAE,gCAAM,CAAE,CAFS,CAGxCC,eAAe,CAAE,KAHuB,CAIxCC,kBAAkB,CAAE,6BAAM,CAAE,CAJY,CAAD,CAAlC,CAOP,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,aAAyBZ,OAAO,EAAhC,CAAQa,YAAR,UAAQA,YAAR,CACA,gBAA0BC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAA1B,CAAQC,aAAR,aAAQA,aAAR,CACA,cAAoD9B,QAAQ,CAAC,KAAD,CAA5D,wCAAOoB,kBAAP,eAA2BC,qBAA3B,eACA,eAA8CrB,QAAQ,CAAC,KAAD,CAAtD,yCAAOsB,eAAP,eAAwBC,kBAAxB,eACA,eAAoCvB,QAAQ,CAAC,IAAD,CAA5C,yCAAO+B,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAU,CAC3BX,kBAAkB,CAAC,IAAD,CAAlB,CACAS,aAAa,CAACE,IAAD,CAAb,CACD,CAHD,CAKAnC,SAAS,CAAC,UAAM,2BACd,GAAMoC,CAAAA,WAAW,CAAGjB,SAAS,CAACkB,KAAV,CAAgB,GAAhB,CAApB,CACA,uBAAAC,QAAQ,CAACC,IAAT,CAAcC,SAAd,EAAwBC,GAAxB,gDAA+BL,WAA/B,GACA,MAAO,WAAM,4BACX,wBAAAE,QAAQ,CAACC,IAAT,CAAcC,SAAd,EAAwBE,MAAxB,iDAAkCN,WAAlC,GACD,CAFD,CAGD,CANQ,CAMN,EANM,CAAT,CAQApC,SAAS,CAAC,UAAM,CACd,GAAI,CAACuB,eAAL,CAAsB,CACpBU,aAAa,CAAC,IAAD,CAAb,CACD,CACF,CAJQ,CAIN,CAACV,eAAD,CAJM,CAAT,CAKA,mBACE,aAAK,SAAS,CAAC,2CAAf,wBACE,KAAC,MAAD,EACE,gBAAgB,CAAED,qBADpB,CAEE,aAAa,CAAEE,kBAFjB,EADF,cAKE,YAAK,SAAS,CAAC,8CAAf,uBACE,kCACE,KAAC,YAAD,CAAc,QAAd,EACE,KAAK,CAAE,CACLD,eAAe,CAAfA,eADK,CAELF,kBAAkB,CAAlBA,kBAFK,CAGLC,qBAAqB,CAArBA,qBAHK,CAILE,kBAAkB,CAAlBA,kBAJK,CAKLU,UAAU,CAAVA,UALK,CADT,uBASE,MAAC,MAAD,yBACE,KAAC,KAAD,EACE,IAAI,CAAC,gBADP,CAEE,OAAO,CACLR,YAAY,cAAG,KAAC,eAAD,IAAH,cAAyB,KAAC,gBAAD,IAHzC,EADF,CAOGA,YAAY,eACX,wCACE,KAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,CAA4B,OAAO,cAAE,KAAC,QAAD,IAArC,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,OAAO,cAAE,KAAC,UAAD,IAAvC,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,sBAAZ,CAAmC,OAAO,cAAE,KAAC,cAAD,IAA5C,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,OAAO,cAAE,KAAC,OAAD,IAApC,EAJF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,OAAO,cAAE,KAAC,OAAD,IAApC,EALF,GARJ,GATF,EADF,EADF,EALF,CAoCGA,YAAY,eACX,wCACE,KAAC,KAAD,EACE,MAAM,CAAEL,kBADV,CAEE,OAAO,CAAE,yBAAMC,CAAAA,qBAAqB,CAAC,KAAD,CAA3B,EAFX,CAGE,KAAK,CAAC,gBAHR,uBAKE,KAAC,WAAD,EAAa,qBAAqB,CAAEA,qBAApC,EALF,EADF,cAQE,KAAC,KAAD,EACE,MAAM,CAAEC,eADV,CAEE,OAAO,CAAE,yBAAMC,CAAAA,kBAAkB,CAAC,KAAD,CAAxB,EAFX,CAGE,KAAK,CAAC,aAHR,uBAKE,KAAC,QAAD,EACE,kBAAkB,CAAEA,kBADtB,CAEE,UAAU,CAAEQ,UAFd,EALF,EARF,GArCJ,CAyDG,CAACN,YAAD,EAAiBK,aAAjB,eAAkC,KAAC,yBAAD,IAzDrC,GADF,CA6DD,CAtFD,CAwFA,cAAeN,CAAAA,SAAf"},"metadata":{},"sourceType":"module"}